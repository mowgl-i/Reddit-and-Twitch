---
title: "Report"
author: "Michael Puerto"
date: "11/4/2020"
output: 
  html_document:
    toc: true
    toc_float: true
    code_folding: hide
---

# Project Aim


# Installing Libraries

I'm a big user of the [p_load way](https://stackoverflow.com/a/19873732) of loading/installing libraries. It is equviantent of if !require(...) install...

I make use of the following packages:

- Tidyverse
- tidytext
- tm
- lubridate
- stringr
- text2vec
- jsonlite
- widyr
- quanteda
- visNetwork
- igraph
- ggraph

```{r, message=FALSE,warning=FALSE,error=FALSE}

if (!require(pacman)) install.packages("pacman")
library(pacman)
pacman::p_load(tidyverse,tidytext,tm,lubridate,stringr, text2vec,jsonlite,widyr,quanteda,visNetwork,igraph,ggraph)

```


# Reading in Data

To do this I use a for loop to read in json data for each file in the directory and append/bind it to a growing dataframe. 
This results in a dataframe with 46,319 observations and 4 features/variables. 
<br>

1. Body
  + Chat message. Typically short messages with text, emotes or emojis. 
 
2. User
  + Twitch user who made the comment/chat.
  
3. Date
 
4. Streamer
  + Streamer/Broadcaster or Channel name where the comment was made. 
  
```{r}

file_names = dir("C:/Users/macia/Documents/twitch_clips/October Clips")

G_path = "C:/Users/macia/Documents/twitch_clips/October Clips/"
data = NULL


for(i in file_names){
  L_path = paste(G_path,as.character(i),sep = "")
  data_temp <- fromJSON(as.character(L_path))
  
  chat_temp <- data_temp$comments$message$body
  user_temp <- data_temp$comments$commenter$display_name
  date_temp <- data_temp$comments$commenter$created_at
  streamer_temp <- data_temp$streamer$name
  
  #------------- This was me tyring to pull out the user bages ( Moderator/subcriber etc..)
  # for(i in 1:length(data_temp$comments$message$user_badges)){
  #  id_temp = list(data_temp$comments$message$user_badges[[i]]$`_id`)
  #  id = c(test,id_temp)
    
    
   # }
  
  data_temp = data.frame("body"= chat_temp,"user"=user_temp,"date"=date_temp,"streamer" = streamer_temp, stringsAsFactors = F)
  #assign(paste(i,"data",sep = "_"),data_temp) # this will create new dataframes in the environment
  data = bind_rows(data,data_temp)

}


data %>% glimpse()


```



# Descriptions

## Most Frequent Emotes


## Most Freqent Spams (bigrams and trigrams)


## Pairwise correlation between spams and emotes


## Most frequently posted streamers and authored redditors


## Something here


# Comparisons 


## Clip views by Streamer

## Pairwise correlation between streamers using spams and emotes

## Something here
 
## Something here

## Something here



